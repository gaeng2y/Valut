## What is Core Data?
Core Data는 애플리케이션의 **모델 계층 객체를 관리**하는 데 사용하는 프레임워크입니다. 이 프레임워크는 객체 수명 주기 및 객체 그래프 관리와 관련된 일반적인 작업(영구 저장 포함)에 대한 일반적이고 자동화된 솔루션을 제공합니다.

Core Data를 사용하면 모델 계층을 지원하기 위해 작성해야 하는 코드의 양을 50~70%까지 줄일 수 있습니다. 이는 주로 직접 구현, 테스트, 또는 최적화할 필요가 없는 다음과 같은 내장 기능들 때문입니다.

- **변경 사항 추적 및 실행 취소/재실행 관리**: 기본적인 텍스트 편집 기능을 넘어선 변경 사항 추적 및 관리 기능을 내장하고 있습니다.
- **관계 일관성 유지**: 객체 간의 관계 일관성을 포함하여 변경 사항 전파를 유지합니다.
- **지연 로딩**: 객체 지연 로딩, 부분적으로 구체화된 퓨처(Faulting), 복사 시 쓰기(Copy-on-write) 데이터 공유를 통해 오버헤드를 줄입니다.
- **자동 유효성 검사**: 속성 값에 대한 자동 유효성 검사를 제공합니다. 관리 객체는 표준 키-값 코딩(key-value coding) 유효성 검사 메서드를 확장하여 개별 값이 허용 가능한 범위 내에 있는지, 그리고 값들의 조합이 의미가 있는지 확인합니다.
- **스키마 마이그레이션**: 스키마 변경을 단순화하고 효율적인 인플레이스(in-place) 스키마 마이그레이션을 수행할 수 있는 도구를 제공합니다.
- **컨트롤러 계층 통합**: 사용자 인터페이스 동기화를 지원하기 위해 애플리케이션의 컨트롤러 계층과 선택적으로 통합될 수 있습니다.
- **데이터 그룹화, 필터링, 구성**: 메모리 및 사용자 인터페이스에서 데이터를 그룹화하고, 필터링하며, 정리하는 기능을 제공합니다.
- **외부 데이터 저장소 지원**: 외부 데이터 저장소에 객체를 저장하는 것을 자동으로 지원합니다.
- **정교한 쿼리 컴파일**: SQL을 직접 작성하는 대신, NSPredicate 객체를 가져오기 요청(fetch request)과 연결하여 복잡한 쿼리를 생성할 수 있습니다.
- **버전 추적 및 낙관적 잠금**: 자동 다중 작성자 충돌 해결을 지원하기 위해 버전 추적 및 **낙관적 잠금(optimistic locking)** 을 제공합니다.
- **macOS 및 iOS 도구 체인과의 효과적인 통합**: macOS 및 iOS 개발 환경에 효과적으로 통합됩니다.

> [!note]
> 이 문서는 신속하고 명확한 설명을 위해 직원 데이터베이스 스타일의 예시를 사용합니다. 이는 풍부하면서도 이해하기 쉬운 문제 영역을 나타냅니다. 그러나 Core Data 프레임워크는 데이터베이스 스타일의 애플리케이션에만 국한되지 않으며, 클라이언트-서버 동작이 필수적인 것도 아닙니다. 이 프레임워크는 Sketch와 같은 벡터 그래픽 애플리케이션이나 Keynote와 같은 프레젠테이션 애플리케이션의 기반으로도 똑같이 유용합니다.

---
## Creating a Managed Object Model
관리 객체 모델은 애플리케이션의 **데이터 스키마(schema)** 를 설명하는 것으로, 데이터베이스의 스키마와 유사한 역할을 합니다. Xcode에서 새 프로젝트를 만들 때 "Use Core Data" 옵션을 선택하면 .xcdatamodeld 파일이 생성되며, 이 파일을 사용하여 모델을 정의할 수 있습니다.

**주요 구성 요소**
- **엔티티(Entities)**: 데이터베이스의 테이블과 비슷한 개념으로, 애플리케이션 내의 객체 타입을 정의합니다.
- **속성(Attributes)**: 엔티티가 가질 수 있는 값들(예: 이름, 나이)을 정의합니다. **일시적(transient)** 이거나 **영구적(persistent)** 일 수 있습니다.
- **관계(Relationships)**: 엔티티 간의 연결을 정의합니다. 일대일(to-one) 또는 일대다(to-many) 관계를 설정할 수 있습니다.

엔티티 상속(Entity Inheritance): 상위 엔티티(superentity)가 공통 속성을 정의하고, 하위 엔티티(subentities)가 이를 상속받아 재사용할 수 있습니다. 이를 통해 공통 속성을 한 번만 정의하여 효율적으로 관리할 수 있습니다.