- 앱 프로세스에서 키보드를 가져오면 보안이 개선
- 입력 내용에 대한 프라이버시 보장
- 시스템 전체의 공간 확보 (just one keyboard)
- 새로운 아키텍처를 통해 미래를 위한 디자인 가능(System flexibility)

### Out of process Keyboard
- iOS 17 이전에는 키보드의 뷰와 로직이 앱 프로세스 내에서 실행
- iOS 17 이후에는 키보드가 자체 프로세스로 이동하여 앱의 외부에서 실행된다고 봐도 무방

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020241108120115.png)

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020241108120630.png)
### 앱 디자인 시 고려해야할 사항
풀스크린 앱에서 키보드는 키보드 조정을 키보드 높이에 따라 뷰를 올리는 것만큼 단순하다
하지만 스테이지 매니저를 사용하게되면 시스템은 그 모델에서 벗어나게 된다. 고급 멀티태스킹이 가능해 풀 스크린이 꼭 필요하지 않다

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020250401170411.png)

그 말인 즉슨 키보드가 나타나면 앱의 뷰를 정확히 조정하고자 특별한 관심이 필요하다는 것이다
**키보드의 신과 앱의 씬이 더 이상 일치하지 않기에** 앱을 콘텍스트에 적절하게 맞추기 위해서는 추가 변형이 필요하다

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020250401170524.png)

위 시나리오 같은 경우는 앱의 조정은 실제 Y 길이. 즉, 키보드의 높이가 아니다
Y' 에서 나타나는 것처럼 키보드와 앱의 교차점을 통해 조정해야 한다.

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020250401170607.png)

계산할 조정값이 하나가 아닐지도 모른다. 스크린에 다양한 씬이 있을 수도 있으니... 

이 경우에는 각각 다른 계산과 조정이 필요하다.

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020250401170718.png)

최근 하드웨어 키보드에 새로 도입된 시나리오 중 하나는 하드웨어 키보드를 연결하면 시스템이 스크린 중앙에 지원 툴바를 제시하는 것이 있다. 

이 풀 사이즈 툴바가 나타나면 키보드의 일환으로 작동하고 뷰가 번거롭게 조정되어야 한다

그런데 플릭 제스터를 사용해 툴바 최소화가 가능하다

![](WWDC/WWDC%2023/Keep%20up%20with%20the%20Keyboard/Pasted%20image%2020250401170902.png)

스테이지 매니저 밖에서는 기존 동작을 보존한다. 미니 툴바가 키보드의 일부로 작동하지 않아 뷰와 겹치게 될 것이다. 사용자는 툴바를 스크린 다른 쪽으로 드래그해 아래에 있는 컨텐츠에 접근할 수 있다

하지만 스테이지 매니저에서는 미니 툴바가 키보드의 일환으로 동작하기 때문에 사용 사례에 따라 스크롤 오프셋을 업데이트하고 입력 액세서리 뷰를 밀어올릴 수 있다

그럼 다른 레이아웃 조정도 가능해진다 
