## Network
네트워크란 그물을 뜻하는 net와 work의 합성어로, 그물처럼 서로 긴밀하게 연결되어 있는 것을 의미한다.
그중 우리가 말할 네트워크는 컴퓨터 네트워크로, 컴퓨터 사이에 데이터를 주고받는 통신망을 의미한다.
### LAN, WAN 그리고 인터넷
#### LAN(Local Area Network)
가정집을 비롯해 학교, 회사 등 지리적으로 가까운 기기들이 서로 연결된 소규모 네트워크를 의미한다.
이때 각 기기가 서로 1:1로 연결된 게 아니라 앞서 얘기한 공유기나 스위치 등이 중심이 되고, 컴퓨터 등 다른 기기들이 중심 기기에 연결된 형태를 띠고 있다.
#### WAN(Wide Area Network)
지역이나 국가 등 넓은 영역을 연결하는 광역 네트워크이다.
### OSI 7계층
통신이 일어나는 과정을 크게 7단계로 구분한 것이다.
P(lease) D(o) N(ot) T(ouch) S(teve) P(et) A(llegator)

- **응용 계층**
- **표현 계층**
- **세션 계층**
- **전송 계층**
- **네트워크 계층**
- **데이터 링크 계층**
- **물리 계층**

#### OSI 7계층이 생긴 이유
반세기 전, 컴퓨터 네트워크라는 개념이 생겨나고 학교, 군대 등 한정된 그룹에 속한 소수의 사람만이 인터넷을 사용할 때만 해도 네트워크 통신에 필요한 장치나 시스템은 특정 회사에서 알아서 만들다 보니 서로 호환되지 않는 경우가 많다.
인터넷을 사용하는 사람이 크게 늘자 다른 기종의 컴퓨터끼리도 네트워크를 형성할 수 있게 각 단계를 구분하고 이를 표준화하려는 움직임이 생겼다.
그 결과 ISO(국제 표준화 기구)에서 1984년에 통신이 일어나는 과정을 크게 7단계로 구분하고 단계별 표준을 정의한 것이 바로 OSI 7계층이다.
##### OSI 7계층이 생기면서 달라진 점
* 역할에 따라 각 계층을 나누고 계층별로 통일된 규칙을 정의했다.
* 네트워크 구성 요소를 표준화하자 계층 내 장치나 통신 규약인 프로토콜이 달라져도 통신할 수 있게 되었고, 처음 보거나 새로 개발된 장치/프로토콜을 빠르게 예측하고 이해하는 데도 도움이 되었다.
* 또 7계층이 생기면서 통신이 일어나는 과정을 단계별로 파악할 수 있게 되었다.
### OSI 7계층과 TCP/IP 4계층
#### 프로토콜의 집합, TCP/IP 4계층
응용 - 전송 - 인터넷 - 네트워크 액세스

|  | OSI 모델 | TCP/IP 모델 |
| ---- | ---- | ---- |
| 목적 | 호환성, 표준화 | 실무 적용 |
| 레이어 수 | 7 계층 | 4 계층 |
| 구성 | 역할 기반 | 프로토콜 기반 |
### OSI 모델로 보는 데이터 전송
데이터 통신에는 기본적으로 데이터를 주는 사람인 송신자와 데이터를 받는 사람인 수신자가 있다.

데이터 통신을 위해서는 송신자와 수신자가 필요한데, 이때 송신자와 수신자 각각 OSI 7계층을 해당하는 프로토콜과 장비가 있다.

OSI 모델을 포함해 데이터 송수신을 설명하자면, 먼저 송신자가 요청을 보내면 OSI 계층 중 가장 사용자와 가까이 있는 응용 계층에서 요청 데이터를 받고 데이터는 하위 계층으로 전달되며 마지막으로 가장 멀리 떨어진 물리 계층가지 이동한다. 그리고 목적지까지 이동한 후 반대로 물리 계층에서부터 응용 계층 순서로 데이터가 상위 계층으로 올라가고, 마지막 응용 계층까지 데이터가 도달하면 성공적으로 수신자가 데이터를 받게 된다.

#### 캡슐화와 역캡슐화
그렇다면 앞서 처리해야 하는 계층이 빠져 있거나 실수로 데이터가 잘못 도착할 수도 있는데, 각 계층은 어떻게 데이터가 들어왔을 때 자신이 처리해야 하는 순서임을 알 수 있을까? 바로 **헤더 정보** 때문이다.

헤더 정보는 보내는 쪽의 계층이 받는 쪽의 계층에 전달하는 관련 정보이다. 보내는 쪽에서 자신의 역할이 끝날 때마다 데이터 처리에 필요한 몇 가지 정보를 헤더 정보로 넣어 하위 계층으로 전달한다. 그래서 각 계층을 자세히 보면 아래 그림과 같이 하위 계층의 데이터가 상위 계층의 데이터를 감싸하는 형태가 된다.

![](https://img1.daumcdn.net/thumb/R1280x0/?fname=http://t1.daumcdn.net/brunch/service/user/8Mao/image/Vb4nVCcQRWFi7BoxU7yVbHXCPlY.jpg)

그리고 받는 쪽에서는 헤더 정보를 보고 처리한 뒤에 자신의 계층에 속한 헤더 정보는 벗겨내고 상위 계층으로 전달한다. 이렇게 계층마다 확인해야 하는 헤더 정보가 있어서 계층별로 정해진 역할을 잘 수행하는 것이다.

이때 보내는 쪽에서 헤더를 덧붙이면 데이터를 하위 계층으로 보내는 과정을 **캡슐화**, 반대로 받는 쪽에서 헤더를 떼어내면서 데이터를 상위 계층으로 보내는 과정을 **역캡슐화**라고 부른다.
