
### Interactive Widget Ref
https://developer.apple.com/documentation/widgetkit/adding-interactivity-to-widgets-and-live-activities
#### Understand the role of app intents
위젯은 앱 인텐트 프레임워크와 SwiftUI를 사용하여 앱과의 직접적인 상호 작용을 제공합니다. 예를 들어, 이모티콘 레인저의 대형 위젯: 라이브 활동, 상호 작용 및 애니메이션 샘플 코드 프로젝트 지원에는 영웅의 치유력을 높이는 버튼이 포함되어 있습니다.

위젯을 만들고 컴플리케이션을 보려면, 프로젝트에 위젯 확장 프로그램을 추가하세요. 결과적으로, 위젯과 시계 컴플리케이션에 대한 모든 코드는 앱과 별도의 독립적인 프로세스로 실행됩니다. 타임라인 항목을 기반으로, 시스템은 뷰 표현을 보관하고 해당되는 경우에만 이러한 표현을 사용하여 뷰를 렌더링합니다.

타임라인 메커니즘과 별도의 프로세스 렌더링의 결과로, 시스템은 위젯을 렌더링할 때 코드를 실행하거나 데이터 바인딩을 업데이트할 수 없습니다. 이것은 앱 인텐트 프레임워크가 작용하는 곳이다. 앱 인텐트를 사용하면 앱의 동작을 시스템에 노출하고 필요할 때 작업을 수행할 수 있습니다. 예를 들어, 사람이 위젯의 버튼이나 토글과 상호 작용할 때.

##### Add an app intent that performs the action
위젯과 라이브 활동에 추가하는 버튼과 토글은 **앱 인텐트** 프레임워크를 채택하여 시스템에 노출되는 기능을 사용합니다. 버튼이나 토글을 추가하기 전에, 앱 인텐트를 사용하여 시스템에서 앱 기능을 사용할 수 있도록 하세요:

1. 위젯의 경우, AppIntent 프로토콜을 채택한 새로운 구조를 만들고 앱 대상에 추가하십시오. 라이브 액티비티 인터랙티브의 경우, `LiveActivityIntent` 프로토콜을 채택하세요. 상호 작용이 미디어 재생을 시작하거나 일시 중지하면, `AudioPlaybackIntent` 프로토콜을 채택하십시오.
2. 프로토콜의 필수요소를 구현하세요
3. @Parameter 속성 래퍼를 사용하여 작업에 필요한 입력 매개 변수를 정의하고 유형이 AppEntity 프로토콜을 준수하는지 확인하십시오. Siri와 같은 시스템 기능에 대해 정의하는 앱 인텐트와 달리 위젯은 앱 인텐트에 대한 매개 변수를 해결하지 않기 때문에 입력 매개 변수에 값이 할당되었는지 확인하십시오.
4. 프로토콜의 필수 `perform()` 함수에서, 위젯에서 사용할 수 있는 작업에 대한 코드를 추가하십시오.